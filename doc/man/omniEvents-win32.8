.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "OMNIEVENTS-WIN32" 8 "" "" ""
.SH NAME
omniEvents-win32 \- CORBA Event Service for Windows
.SH "SYNOPSIS"

.PP
Command:
.ad l
.hy 0
.HP 11
\fBomniEvents\fR [\-p\ \fIport\fR] [\-a\ \fIendpoint\fR] [\-l\ \fIdirectory\fR] [\-N\ \fIfactory\-name\fR] [\-t\ \fIfile\fR] [\-vVh] [\-ORB\fIparameter\fR\ \fIvalue\fR]
.ad
.hy

.PP
Windows service control:
.ad l
.hy 0
.HP 11
\fBomniEvents\fR [\fBinstall\ [\fIOPTIONS\fR]\fR | \fBuninstall\fR | \fBsetoptions\ [\fIOPTIONS\fR]\fR | \fBgetoptions\fR]
.ad
.hy

.SH "DESCRIPTION"

.PP
\fBomniEvents\fR is a CORBA Event Service server program\&. It is designed to be run as a Windows service\&.

.PP
The server continuously saves its state to a file\&. Event channels are re\-created from this file each time the server restarts\&. The options \fB\-p\fR and \fB\-a\fR affect the identity of the server's event channels, so these options can only be set the first time the server is run\&.

.PP
Servers may be configured to operate in pairs \- if one fails then clients automatically switch over to the alternate\&.

.SH "SERVICE CONTROL"

.PP
\fBomniEvents\fR itself has four service set\-up commands\&. The command name must immediately follow the \fBomniEvents\fR\&. Any normal command\-line options which follow the command are stored in the Windows registry\&. They will be used when the service starts up\&.

.TP
\fBomniEvents install OPTIONS\fR
Install the service with the specified options\&. The only option that will usually be useful is \fB\-t\fR, which instructs omniEvents to send trace logs to a file\&.

Example: \fBomniEvents install \-t "C:\\omniEvents\\trace\&.out"\fR

.TP
\fBomniEvents uninstall\fR
Uninstalls the service\&.

.TP
\fBomniEvents setoptions OPTIONS\fR
Changes the service's stored options\&.

.TP
\fBomniEvents getoptions\fR
Outputs the service's stored option to standard output\&.

.PP
Once the \fBomniEvents\fR is installed, you can control it from the command line, or from scripts with the \fBSc\&.exe\fR command\&. \fBSc\&.exe\fR is distributed with the ``Microsoft SDK''\&.

.TP
\fBsc start omniEvents\fR
Starts the server\&.

.TP
\fBsc stop omniEvents\fR
Shuts down the server\&.

.TP
\fBsc control omniEvents 128\fR
You can change the traceLevel while the application is running\&. Send control signal 128 to the server to bump its traceLevel up by 5\&. The traceLevel is wrapped at 45, so you can always get it back to where it started by repeatedly sending signal 128\&.

.SH "OPTIONS"

.TP
\fB\-p port\fR
Sets the TCP port on which a new server will listen\&. The default is 11169

This value is stored in the new server's persistent state\&. There is no need to supply this option when a server is restarted, since the value is read from the file\&. If the option is supplied then it is simply compared with the stored value \- if the two do not match then the program exits with an error\&.

.TP
\fB\-a endpoint\fR
Sets an alternate endPoint for a new server\&. All CORBA object references generated by the server include the alternate address\&. When clients cannot contact the server, they automatically fall back to trying the alternate address\&.

This option is exactly equivalent to the ORB parameter \fBendPointNoListen\fR, except that the value is saved in the server's persistency file, so that it is remembered whenever omniEvents is restarted\&.

The format for a TCP endpoint is giop:tcp:HOST:PORT, for example: \-a giop:tcp:secondary\&.host:11169

This value is stored in the server's persistent state\&. There is no need to supply this option when a server is restarted, since the value is read from the file\&. If the option is supplied then it is simply compared with the stored value \- if the two do not match then the program exits with an error\&.

.TP
\fB\-l directory\fR
Full path to data directory, where omniEvents stores its persistent state\&. The default is \fIC:\\omniEvents\fR

.TP
\fB\-N factory\-name\fR
Sets the CORBA Name Service name for the EventChannelFactory CORBA object\&. Each time the server starts, it registers its channel factory object with factory\-name in the Name Service\&.

Format for name: [CONTEXT\-ID[\&.CONTEXT\-KIND]/]*OBJECT\-ID[\&.OBJECT\-KIND] 

Examples: foo, foo\&.bar, foo\&.bar/baz/qux, foo/bar/baz\&.qux\&.

The default is EventChannelFactory

.TP
\fB\-t file\fR
Send trace messages to file\&.

.TP
\fB\-v\fR
Output the CORBA IOR of the EventChannelFactory CORBA object when the server starts\&.

.TP
\fB\-V\fR
Display version\&.

.TP
\fB\-h\fR
Display a short summary of command\-line options\&.

.TP
\fB\-ORBparameter value\fR
Standard omniORB options\&. see omniORB documentation for details\&. Do NOT use this option to set the endPoint or alternateEndPoint\&. This option is commonly used to set the omniORB traceLevel, in order to get more detailed output\&.

Example: \fB\-ORBtraceLevel 5\fR

.SH "EVENT CHANNEL PARAMETERS"

.PP
The omniEvents::EventChannelFactory object implements the standard CosLifeCycle::GenericFactory interface\&. An EventChannel object is created by a call to the create_object(key,the_criteria) operation\&.

.PP
The ``key'' parameter must be set to ``EventChannel''\&.``object interface''\&. The ``the_criteria'' parameter is a sequence of various service parameters\&. Supported parameters are listed below\&.

.TP
CyclePeriod_ns (long)
Sets the cycle period of the channel (nanoseconds)\&. This is the time that the channel waits before transferring messages from the incoming queue to the outgoing queue\&. While messages are being transferred, incoming calls are queued\&. The default is 0\&.1 seconds\&.

.TP
FilterId (string)
Only types whose RepositoryId matches the parameter are permitted to pass through the channel\&. Other events are silently ignored\&.

.TP
InsName (string)
Sets the name by which the EventChannel is known in omniEvents' INSPOA\&. You can refer to the channel with a corbaloc string like this: corbaloc::HOST:11169/NAME

.TP
MaxNumProxies (long)
The maximum number of ProxyPullSuppliers per channel\&.

.TP
MaxQueueLength (long)
How many events are buffered by the ConsumerAdmin object\&. The discard policy is FIFO, meaning that the oldest events are discarded first in case of overflow\&.

.TP
PullRetryPeriod_ms (long)
Period (milliseconds) between polls when in Pull Supplier \- Push Consumer mode\&.

.SH "ENVIRONMENT VARIABLES"

.TP
OMNIEVENTS_LOGDIR
Sets the directory where data files are kept by default\&. An alternative to the \fB\-l\fR option\&.

.TP
OMNIORB_CONFIG
The location of the omniORB configuration file\&.

.SH "COPYRIGHT"

.PP
Copyright © 2003\-2005 Alex Tingle, 1999 Paul Nader\&.

.PP
This is free software; see the source for copying conditions\&. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE\&.

